Credit @coltenkrauter**, https://gist.github.com/coltenkrauter/608cfe02319ce60facd76373249b8ca6

These instructions are an extended set of instructions to allow the local Ubuntu instance in WSL2 network access even over VPN. There is WSL generated resolv.conf, which needs to be overridden. As the notes in the generated resolv.conf state: 
```bash
    # This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:
    # [network]
    # generateResolvconf = false
    nameserver X.X.X.X
    ~
    ~
    ~
```

So that is what we will do. The thing is VPN makes things more complex, and there need to be commands entered in both Powershell and the WSL command prompt. When a command must be entered into WSL, it will be prefaced with a `$`, and Powershell with a `>`.

Please ensure you have Admin Access and can open an Administrator Powershell. Be sure to be connected via VPN through the duration of the following steps.

'1'. `$ cd ~/../../etc` Navigate to etc folder in WSL.
'2'. `$ sudo vi /etc/wsl.conf` and input:

```bash
    [network]
    generateResolvConf = false
```

'3'. Save and exit.
'4'. `> wsl --terminate Debian` Terminate WSL in Windows cmd, in case is Ubuntu not Debian.
'5'. `> wsl --shutdown` Shut down WSL to re-instantiate the startup. After each shutdown, be sure all instances of WSL are closed (including any remote-container terminals in VSCode).
'8'. `> Get-NetIPInterface` or `> ipconfig /all` to get the IPv4, DNS primary, and secondary.
'6'. `$ cd ~/../../etc` go to etc folder in WSL.
'7'. `$ sudo rm -Rf resolv.conf` Delete the resolv.conf file. This is symolically linked to another file, and not worth trying to keep.
'9'. With the previously got IPv4 Address, DNS primary, and DNS secondary, replace the numbers in the following script in the `X.X.X.X` locations.
'10'. `$ sudo vi /etc/resolv.conf` and input:

```bash
    nameserver X.X.X.X
    nameserver X.X.X.X
    nameserver X.X.X.X
```

'11'. Save and exit.
'12'. `> wsl --terminate Debian` (Terminate WSL in Windows cmd, in case is Ubuntu not Debian).
'13'. `> wsl --shutdown` Shut down WSL to re-instantiate the startup. After each shutdown, be sure all instances of WSL are closed (including any remote-container terminals in VSCode).
'14'. `$ sudo chattr +i resolv.conf` Not required, but makes file immutable and undeletable. 
'15'. `> Get-NetAdapter | Where-Object {$_.InterfaceDescription -Match "Cisco AnyConnect"} | Set-NetIPInterface -InterfaceMetric 6000`
'16'. You should now be able to reach outside your machine in WSL2.

Credit: @MartinCaccia**, @yukosgiti**, @machuu** and @AlbesK**:

https://github.com/microsoft/WSL/issues/4277
https://github.com/microsoft/WSL/issues/4246

Credit: https://github.com/microsoft/WSL/issues/4285#issuecomment-522201021

** All '@'s are pointed to github domain

--git config --global http.sslverify false